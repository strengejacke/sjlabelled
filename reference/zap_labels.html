<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Drop, add or convert (non-)labelled values — drop_labels • sjlabelled</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Drop, add or convert (non-)labelled values — drop_labels" />
<meta property="og:description" content="For (partially) labelled vectors, zap_labels() will replace
               all values that have a value label attribute with NA;
               zap_unlabelled(), as counterpart, will replace all values
               that don't have a value label attribute with NA.
                
               drop_labels() drops all value labels for unused values,
               i.e. values that are not present in a vector. fill_labels() is the
               counterpart to drop_labels() and adds value labels to
               a partially labelled vector, i.e. if not all values are
               labelled, non-labelled values get labels." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sjlabelled</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.6.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/intro_sjlabelled.html">Labelled Data and the sjlabelled-Package</a>
    </li>
    <li>
      <a href="../articles/labelleddata.html">Working with Labelled Data</a>
    </li>
    <li>
      <a href="../articles/quasiquotation.html">Using quasiquotation to add variable and value labels</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/strengejacke/sjlabelled/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Drop, add or convert (non-)labelled values</h1>
    <small class="dont-index">Source: <a href='https://github.com/strengejacke/sjlabelled/blob/master/R/drop_labels.R'><code>R/drop_labels.R</code></a>, <a href='https://github.com/strengejacke/sjlabelled/blob/master/R/fill_labels.R'><code>R/fill_labels.R</code></a>, <a href='https://github.com/strengejacke/sjlabelled/blob/master/R/zap_labels.R'><code>R/zap_labels.R</code></a></small>
    <div class="hidden name"><code>zap_labels.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>For (partially) labelled vectors, <code>zap_labels()</code> will replace
               all values that have a value label attribute with <code>NA</code>;
               <code>zap_unlabelled()</code>, as counterpart, will replace all values
               that <em>don't</em> have a value label attribute with <code>NA</code>.
               <br /> <br />
               <code>drop_labels()</code> drops all value labels for unused values,
               i.e. values that are not present in a vector. <code>fill_labels()</code> is the
               counterpart to <code>drop_labels()</code> and adds value labels to
               a partially labelled vector, i.e. if not all values are
               labelled, non-labelled values get labels.</p>
    </div>

    <pre class="usage"><span class='fu'>drop_labels</span>(<span class='kw'>x</span>, <span class='kw'>...</span>, drop.na = <span class='fl'>TRUE</span>)

<span class='fu'>fill_labels</span>(<span class='kw'>x</span>, <span class='kw'>...</span>)

<span class='fu'>zap_labels</span>(<span class='kw'>x</span>, <span class='kw'>...</span>)

<span class='fu'>zap_unlabelled</span>(<span class='kw'>x</span>, <span class='kw'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>(partially) <code><a href='https://haven.tidyverse.org/reference/labelled.html'>labelled()</a></code> vector or a data frame
with such vectors.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Optional, unquoted names of variables that should be selected for
further processing. Required, if <code>x</code> is a data frame (and no
vector) and only selected variables from <code>x</code> should be processed.
You may also use functions like <code><a href='https://rdrr.io/r/base/Colon.html'>:</a></code> or tidyselect's select-helpers.
See 'Examples'.</p></td>
    </tr>
    <tr>
      <th>drop.na</th>
      <td><p>Logical, whether existing value labels of tagged NA values
(see <code><a href='https://haven.tidyverse.org/reference/tagged_na.html'>tagged_na</a></code>) should be removed (<code>drop.na = TRUE</code>,
the default) or preserved (<code>drop.na = FALSE</code>).
See <code><a href='get_na.html'>get_na</a></code> for more details on tagged NA values.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    
<ul>
<li><p>For <code>zap_labels()</code>, <code>x</code>, where all labelled values are converted to <code>NA</code>.</p></li>
<li><p>For <code>zap_unlabelled()</code>, <code>x</code>, where all non-labelled values are converted to <code>NA</code>.</p></li>
<li><p>For <code>drop_labels()</code>, <code>x</code>, where value labels for non-existing values are removed.</p></li>
<li><p>For <code>fill_labels()</code>, <code>x</code>, where labels for non-labelled values are added.</p></li>
</ul><p>If <code>x</code> is a data frame, the complete data frame <code>x</code> will be
        returned, with variables specified in <code>...</code> being converted;
        if <code>...</code> is not specified, applies to all variables in the
        data frame.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># zap_labels() ----</span>

<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='kw'>efc</span>)
<span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span>(<span class='kw'>efc</span><span class='op'>$</span><span class='kw'>e42dep</span>)
</div><div class='output co'>#&gt;  num [1:908] 3 3 3 4 4 4 4 4 4 4 ...
#&gt;  - attr(*, "label")= chr "elder's dependency"
#&gt;  - attr(*, "labels")= Named num [1:4] 1 2 3 4
#&gt;   ..- attr(*, "names")= chr [1:4] "independent" "slightly dependent" "moderately dependent" "severely dependent"</div><div class='input'>
<span class='kw'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='set_labels.html'>set_labels</a></span>(
  <span class='kw'>efc</span><span class='op'>$</span><span class='kw'>e42dep</span>,
  labels = <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"independent"</span> = <span class='fl'>1</span>, <span class='st'>"severe dependency"</span> = <span class='fl'>4</span>)
)
<span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span>(<span class='kw'>x</span>)
</div><div class='output co'>#&gt; x
#&gt;   1   2   3   4 
#&gt;  66 225 306 304 </div><div class='input'><span class='fu'><a href='get_values.html'>get_values</a></span>(<span class='kw'>x</span>)
</div><div class='output co'>#&gt; [1] 1 4</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span>(<span class='kw'>x</span>)
</div><div class='output co'>#&gt;  num [1:908] 3 3 3 4 4 4 4 4 4 4 ...
#&gt;  - attr(*, "label")= chr "elder's dependency"
#&gt;  - attr(*, "labels")= Named num [1:2] 1 4
#&gt;   ..- attr(*, "names")= chr [1:2] "independent" "severe dependency"</div><div class='input'>
<span class='co'># zap all labelled values</span>
<span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span>(<span class='fu'>zap_labels</span>(<span class='kw'>x</span>))
</div><div class='output co'>#&gt; 
#&gt;   1   2   3   4 
#&gt;  66 225 306 304 </div><div class='input'><span class='fu'><a href='get_values.html'>get_values</a></span>(<span class='fu'>zap_labels</span>(<span class='kw'>x</span>))
</div><div class='output co'>#&gt; [1] 1 4</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span>(<span class='fu'>zap_labels</span>(<span class='kw'>x</span>))
</div><div class='output co'>#&gt;  num [1:908] 3 3 3 4 4 4 4 4 4 4 ...
#&gt;  - attr(*, "label")= chr "elder's dependency"
#&gt;  - attr(*, "labels")= Named num [1:2] 1 4
#&gt;   ..- attr(*, "names")= chr [1:2] "independent" "severe dependency"</div><div class='input'>
<span class='co'># zap all unlabelled values</span>
<span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span>(<span class='fu'>zap_unlabelled</span>(<span class='kw'>x</span>))
</div><div class='output co'>#&gt; 
#&gt;   1   4 
#&gt;  66 304 </div><div class='input'><span class='fu'><a href='get_values.html'>get_values</a></span>(<span class='fu'>zap_unlabelled</span>(<span class='kw'>x</span>))
</div><div class='output co'>#&gt; [1] 1 4</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span>(<span class='fu'>zap_unlabelled</span>(<span class='kw'>x</span>))
</div><div class='output co'>#&gt;  num [1:908] NA NA NA 4 4 4 4 4 4 4 ...
#&gt;  - attr(*, "label")= chr "elder's dependency"
#&gt;  - attr(*, "labels")= Named num [1:2] 1 4
#&gt;   ..- attr(*, "names")= chr [1:2] "independent" "severe dependency"</div><div class='input'>
<span class='co'># in a pipe-workflow</span>
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='kw'><a href='https://dplyr.tidyverse.org'>dplyr</a></span>)
<span class='kw'>efc</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span>(<span class='kw'>c172code</span>, <span class='kw'>e42dep</span>) <span class='op'>%&gt;%</span>
  <span class='fu'><a href='set_labels.html'>set_labels</a></span>(
    <span class='kw'>e42dep</span>,
    labels = <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"independent"</span> = <span class='fl'>1</span>, <span class='st'>"severe dependency"</span> = <span class='fl'>4</span>)
  ) <span class='op'>%&gt;%</span>
  <span class='fu'>zap_labels</span>()
</div><div class='output co'>#&gt;     c172code e42dep
#&gt; 1          2      3
#&gt; 2          2      3
#&gt; 3          1      3
#&gt; 4          2      4
#&gt; 5          2      4
#&gt; 6          2      4
#&gt; 7          2      4
#&gt; 8          2      4
#&gt; 9         NA      4
#&gt; 10         2      4
#&gt; 11         2      4
#&gt; 12         2      3
#&gt; 13         3      4
#&gt; 14         1      3
#&gt; 15         3      3
#&gt; 16         2      3
#&gt; 17         2      1
#&gt; 18         2      3
#&gt; 19         3      3
#&gt; 20         3      4
#&gt; 21         2      4
#&gt; 22         2      3
#&gt; 23         2      4
#&gt; 24         2      4
#&gt; 25         2      3
#&gt; 26         2      4
#&gt; 27         3      4
#&gt; 28         2      2
#&gt; 29         2      3
#&gt; 30         1      4
#&gt; 31         2      4
#&gt; 32         1      4
#&gt; 33         2      3
#&gt; 34         2      4
#&gt; 35         2      4
#&gt; 36         1      4
#&gt; 37         2      4
#&gt; 38         2      2
#&gt; 39         2      4
#&gt; 40         2      3
#&gt; 41         3      3
#&gt; 42         2      4
#&gt; 43         3      4
#&gt; 44         2      4
#&gt; 45         2      4
#&gt; 46         2      4
#&gt; 47         2      4
#&gt; 48        NA      4
#&gt; 49        NA      3
#&gt; 50         2      4
#&gt; 51         2      4
#&gt; 52         2      4
#&gt; 53         2      4
#&gt; 54         2      4
#&gt; 55         3      4
#&gt; 56         2      4
#&gt; 57         2      4
#&gt; 58         3      4
#&gt; 59         2      3
#&gt; 60         2      4
#&gt; 61        NA      4
#&gt; 62         2      4
#&gt; 63        NA      4
#&gt; 64         3      3
#&gt; 65         2      3
#&gt; 66         3      3
#&gt; 67         3      4
#&gt; 68         2      3
#&gt; 69         2      4
#&gt; 70        NA      4
#&gt; 71         2      4
#&gt; 72         2      4
#&gt; 73         2      4
#&gt; 74         3      4
#&gt; 75         3      4
#&gt; 76         2      4
#&gt; 77         1      4
#&gt; 78         2      3
#&gt; 79         3      3
#&gt; 80         2      4
#&gt; 81         2      2
#&gt; 82         2      3
#&gt; 83         2      4
#&gt; 84         2      3
#&gt; 85         2      4
#&gt; 86         2      4
#&gt; 87         2      4
#&gt; 88         2      4
#&gt; 89         3      4
#&gt; 90         2      4
#&gt; 91         1      3
#&gt; 92         2      1
#&gt; 93         2      2
#&gt; 94        NA      3
#&gt; 95        NA      4
#&gt; 96         2      3
#&gt; 97        NA     NA
#&gt; 98        NA      4
#&gt; 99         1      3
#&gt; 100        2      4
#&gt; 101       NA      3
#&gt; 102        2      3
#&gt; 103        1      3
#&gt; 104       NA      4
#&gt; 105        2      4
#&gt; 106        2      3
#&gt; 107        1      3
#&gt; 108       NA      2
#&gt; 109        2      3
#&gt; 110        2      4
#&gt; 111        2      4
#&gt; 112        2      3
#&gt; 113        3      4
#&gt; 114        2      4
#&gt; 115        2      4
#&gt; 116        1      2
#&gt; 117        2      2
#&gt; 118        2      3
#&gt; 119        1      4
#&gt; 120        1      4
#&gt; 121        3      3
#&gt; 122        1      4
#&gt; 123        1      4
#&gt; 124        2      4
#&gt; 125        2      3
#&gt; 126        2      4
#&gt; 127        2      1
#&gt; 128        2      4
#&gt; 129        3      2
#&gt; 130        1      4
#&gt; 131        1      3
#&gt; 132        2      3
#&gt; 133        1      4
#&gt; 134        1      4
#&gt; 135        2      3
#&gt; 136        3      3
#&gt; 137        1      4
#&gt; 138        2      2
#&gt; 139        1      4
#&gt; 140        2      3
#&gt; 141        2      2
#&gt; 142       NA      4
#&gt; 143        2      4
#&gt; 144        2      3
#&gt; 145        2      4
#&gt; 146        3      4
#&gt; 147       NA      4
#&gt; 148       NA      4
#&gt; 149        1      4
#&gt; 150        2      3
#&gt; 151        2      4
#&gt; 152        2      4
#&gt; 153        3      4
#&gt; 154        3      4
#&gt; 155        1      4
#&gt; 156        2      3
#&gt; 157        3      3
#&gt; 158        3      4
#&gt; 159        3      3
#&gt; 160        3      3
#&gt; 161        3      3
#&gt; 162        3      3
#&gt; 163       NA      4
#&gt; 164        2      4
#&gt; 165        3      3
#&gt; 166        3      4
#&gt; 167       NA      4
#&gt; 168        2      4
#&gt; 169        2      3
#&gt; 170        3      4
#&gt; 171        3      3
#&gt; 172        2      3
#&gt; 173        2      3
#&gt; 174        1      3
#&gt; 175        2      4
#&gt; 176        3      4
#&gt; 177        2      3
#&gt; 178       NA      4
#&gt; 179        3      4
#&gt; 180        2      4
#&gt; 181        1      4
#&gt; 182        3      3
#&gt; 183        2      3
#&gt; 184       NA      4
#&gt; 185        1      4
#&gt; 186        2      4
#&gt; 187        3      4
#&gt; 188        3      4
#&gt; 189        1      2
#&gt; 190        2      3
#&gt; 191        3      3
#&gt; 192        3      4
#&gt; 193       NA      2
#&gt; 194        2      4
#&gt; 195        2      3
#&gt; 196        1      3
#&gt; 197        3      2
#&gt; 198        3      4
#&gt; 199        1      2
#&gt; 200       NA      3
#&gt; 201       NA      3
#&gt; 202        2      4
#&gt; 203        3      3
#&gt; 204        2      4
#&gt; 205        1      3
#&gt; 206        2      3
#&gt; 207        2      4
#&gt; 208        2      4
#&gt; 209        1      3
#&gt; 210       NA      3
#&gt; 211        3      3
#&gt; 212        3      4
#&gt; 213        3      4
#&gt; 214        3      4
#&gt; 215        3      2
#&gt; 216        2      3
#&gt; 217        2      4
#&gt; 218        2      4
#&gt; 219        1      4
#&gt; 220        3      2
#&gt; 221        2      3
#&gt; 222        3      4
#&gt; 223        2      4
#&gt; 224        2      3
#&gt; 225        1      4
#&gt; 226        3      3
#&gt; 227        1      4
#&gt; 228        2      3
#&gt; 229        3      3
#&gt; 230        2      3
#&gt; 231        3      3
#&gt; 232       NA      3
#&gt; 233       NA      4
#&gt; 234       NA      3
#&gt; 235       NA      4
#&gt; 236       NA      4
#&gt; 237        2      3
#&gt; 238        2      2
#&gt; 239        2      3
#&gt; 240        2      2
#&gt; 241        2      1
#&gt; 242        2      3
#&gt; 243        1      3
#&gt; 244       NA      2
#&gt; 245        2      2
#&gt; 246        2      3
#&gt; 247        2      1
#&gt; 248        2      2
#&gt; 249        1      3
#&gt; 250       NA      2
#&gt; 251       NA      3
#&gt; 252        1      3
#&gt; 253       NA      3
#&gt; 254        2      4
#&gt; 255        2      1
#&gt; 256        2      3
#&gt; 257        2      3
#&gt; 258        1      4
#&gt; 259        2      2
#&gt; 260        3      2
#&gt; 261        2      2
#&gt; 262        3      4
#&gt; 263        2      4
#&gt; 264        1      3
#&gt; 265        2      3
#&gt; 266       NA      4
#&gt; 267        2      3
#&gt; 268        3      3
#&gt; 269        2      3
#&gt; 270        1      3
#&gt; 271        1      2
#&gt; 272        1      3
#&gt; 273        2      2
#&gt; 274        1      2
#&gt; 275        2      3
#&gt; 276        1      3
#&gt; 277       NA      3
#&gt; 278       NA      3
#&gt; 279        1      2
#&gt; 280        3      3
#&gt; 281        1      3
#&gt; 282        2      2
#&gt; 283        2      2
#&gt; 284        2      2
#&gt; 285        2      3
#&gt; 286        2      3
#&gt; 287        2      4
#&gt; 288        3      4
#&gt; 289        2      4
#&gt; 290        2      4
#&gt; 291        2      2
#&gt; 292        1      2
#&gt; 293        2      3
#&gt; 294        1      4
#&gt; 295        1      3
#&gt; 296        1      2
#&gt; 297        2      3
#&gt; 298        2      3
#&gt; 299        3      2
#&gt; 300        2      2
#&gt; 301        1      4
#&gt; 302        2      4
#&gt; 303        2      3
#&gt; 304        2      2
#&gt; 305        2      2
#&gt; 306        2      3
#&gt; 307        2      4
#&gt; 308        2      2
#&gt; 309        3      3
#&gt; 310        1      1
#&gt; 311        2      3
#&gt; 312        3      3
#&gt; 313        2      3
#&gt; 314        3      4
#&gt; 315        2      3
#&gt; 316        2      3
#&gt; 317        2      4
#&gt; 318        2      4
#&gt; 319        2      3
#&gt; 320        1      2
#&gt; 321       NA      3
#&gt; 322        2      3
#&gt; 323        3      2
#&gt; 324        3      4
#&gt; 325        3      2
#&gt; 326        1      3
#&gt; 327        2      3
#&gt; 328        1      3
#&gt; 329        2      1
#&gt; 330        2      1
#&gt; 331        2      2
#&gt; 332        2      4
#&gt; 333        2      4
#&gt; 334        1      4
#&gt; 335        2      3
#&gt; 336        3      2
#&gt; 337        1      2
#&gt; 338        2      3
#&gt; 339        3      3
#&gt; 340        2      2
#&gt; 341        2      2
#&gt; 342        2      2
#&gt; 343        2      2
#&gt; 344        2      2
#&gt; 345        2      3
#&gt; 346        2      4
#&gt; 347        2      3
#&gt; 348        3      4
#&gt; 349        2      1
#&gt; 350        3      2
#&gt; 351        3      4
#&gt; 352        1      2
#&gt; 353        2      2
#&gt; 354        1      2
#&gt; 355        1      3
#&gt; 356        1      3
#&gt; 357        2      4
#&gt; 358        2      3
#&gt; 359        1      3
#&gt; 360        1      2
#&gt; 361        1      3
#&gt; 362        2      3
#&gt; 363        1      2
#&gt; 364        1      3
#&gt; 365        2      2
#&gt; 366        1      1
#&gt; 367        2      1
#&gt; 368       NA      2
#&gt; 369       NA      2
#&gt; 370        2      2
#&gt; 371        2      2
#&gt; 372        2      4
#&gt; 373        2      4
#&gt; 374        2      1
#&gt; 375        2      2
#&gt; 376        1      2
#&gt; 377        2      2
#&gt; 378        2      3
#&gt; 379        2      4
#&gt; 380        2      4
#&gt; 381        2      4
#&gt; 382        2      3
#&gt; 383        2      3
#&gt; 384        2      4
#&gt; 385        1      3
#&gt; 386        2      2
#&gt; 387        2      2
#&gt; 388       NA      4
#&gt; 389        1      3
#&gt; 390        2      4
#&gt; 391        2      4
#&gt; 392        3      3
#&gt; 393        1      1
#&gt; 394        3      3
#&gt; 395        2      2
#&gt; 396        2      4
#&gt; 397        3      2
#&gt; 398        3      2
#&gt; 399        1      4
#&gt; 400        3      2
#&gt; 401        1      4
#&gt; 402        1      4
#&gt; 403        2      4
#&gt; 404        2      2
#&gt; 405        2      1
#&gt; 406        2      2
#&gt; 407        1      4
#&gt; 408        1      2
#&gt; 409        2      4
#&gt; 410        2      3
#&gt; 411        2      4
#&gt; 412        2      1
#&gt; 413        1      1
#&gt; 414        2      2
#&gt; 415        2      2
#&gt; 416        3      3
#&gt; 417        3      2
#&gt; 418        3      4
#&gt; 419        3      4
#&gt; 420        2      3
#&gt; 421        1      4
#&gt; 422        2      3
#&gt; 423        3      4
#&gt; 424        2      3
#&gt; 425        2      4
#&gt; 426        2      4
#&gt; 427        3      2
#&gt; 428        2      4
#&gt; 429        2      4
#&gt; 430        2      4
#&gt; 431        3      1
#&gt; 432        3      3
#&gt; 433        2      2
#&gt; 434        1      2
#&gt; 435        2      3
#&gt; 436        2      2
#&gt; 437        2      3
#&gt; 438        3      4
#&gt; 439       NA      4
#&gt; 440        1      3
#&gt; 441        1      3
#&gt; 442        2      2
#&gt; 443        2      3
#&gt; 444        3      3
#&gt; 445        1      2
#&gt; 446        2      4
#&gt; 447        2      3
#&gt; 448        2      4
#&gt; 449        2      3
#&gt; 450        1      3
#&gt; 451        2      3
#&gt; 452        2      2
#&gt; 453        3      3
#&gt; 454        2      3
#&gt; 455        2      3
#&gt; 456        3      4
#&gt; 457        1      2
#&gt; 458        1      4
#&gt; 459        3      3
#&gt; 460        3      3
#&gt; 461        3      3
#&gt; 462        2      2
#&gt; 463        2      4
#&gt; 464        1      3
#&gt; 465        2      4
#&gt; 466        2      4
#&gt; 467        1      4
#&gt; 468        1      1
#&gt; 469        2      3
#&gt; 470        2      2
#&gt; 471        1      4
#&gt; 472        2      1
#&gt; 473        2      1
#&gt; 474        2      1
#&gt; 475        1      1
#&gt; 476        2      1
#&gt; 477        1      4
#&gt; 478        2      2
#&gt; 479        2      1
#&gt; 480        2      3
#&gt; 481        1      4
#&gt; 482        3      3
#&gt; 483        3      4
#&gt; 484        2      2
#&gt; 485        3      3
#&gt; 486        2      3
#&gt; 487       NA      3
#&gt; 488       NA      1
#&gt; 489       NA      1
#&gt; 490        1      3
#&gt; 491        1      2
#&gt; 492        1      3
#&gt; 493        1      4
#&gt; 494        1      2
#&gt; 495        1      3
#&gt; 496        2      2
#&gt; 497        1      2
#&gt; 498        1      3
#&gt; 499        1      3
#&gt; 500        3      2
#&gt; 501        1      4
#&gt; 502        2      4
#&gt; 503        1      3
#&gt; 504        2      4
#&gt; 505        2      4
#&gt; 506        2      4
#&gt; 507        2      3
#&gt; 508        2      3
#&gt; 509        2      3
#&gt; 510        2      3
#&gt; 511        2      2
#&gt; 512        2      3
#&gt; 513        2      2
#&gt; 514        1      2
#&gt; 515        1      3
#&gt; 516        2      3
#&gt; 517        2      4
#&gt; 518       NA      4
#&gt; 519        1      4
#&gt; 520        2      2
#&gt; 521        3      2
#&gt; 522        3      4
#&gt; 523        1      3
#&gt; 524        2      2
#&gt; 525        2      2
#&gt; 526        2      3
#&gt; 527        2      1
#&gt; 528        2      2
#&gt; 529        2      3
#&gt; 530        2      2
#&gt; 531        2      4
#&gt; 532        2      1
#&gt; 533        2      4
#&gt; 534        2      3
#&gt; 535        2      2
#&gt; 536        3      2
#&gt; 537        3      3
#&gt; 538        2      4
#&gt; 539        2      3
#&gt; 540        2      4
#&gt; 541        2      4
#&gt; 542        2      2
#&gt; 543        2      3
#&gt; 544        2      2
#&gt; 545        3      3
#&gt; 546        2      3
#&gt; 547        2      2
#&gt; 548        1      4
#&gt; 549        1      3
#&gt; 550        1      2
#&gt; 551        2      3
#&gt; 552        2      2
#&gt; 553        2      2
#&gt; 554        2      3
#&gt; 555        2      3
#&gt; 556        2      3
#&gt; 557        1      4
#&gt; 558        1      4
#&gt; 559        1      4
#&gt; 560        1      2
#&gt; 561        1      4
#&gt; 562        2      2
#&gt; 563        1      4
#&gt; 564        2      2
#&gt; 565        3      3
#&gt; 566        2      1
#&gt; 567        2      2
#&gt; 568        1      3
#&gt; 569        1      4
#&gt; 570        3      4
#&gt; 571        2      4
#&gt; 572        1      4
#&gt; 573        2      4
#&gt; 574        1      4
#&gt; 575        1      4
#&gt; 576        2      3
#&gt; 577        2      4
#&gt; 578        3      2
#&gt; 579       NA      4
#&gt; 580        2      3
#&gt; 581       NA      4
#&gt; 582        1      3
#&gt; 583        3      3
#&gt; 584        1      3
#&gt; 585        2      2
#&gt; 586        2      2
#&gt; 587        2      3
#&gt; 588        2      4
#&gt; 589        2      4
#&gt; 590        1      4
#&gt; 591        1      1
#&gt; 592        2      4
#&gt; 593        1      4
#&gt; 594        1      3
#&gt; 595        2      4
#&gt; 596        2      4
#&gt; 597        2      4
#&gt; 598        1      2
#&gt; 599        1      4
#&gt; 600        2      4
#&gt; 601        3      3
#&gt; 602        1      4
#&gt; 603        2      3
#&gt; 604        2      2
#&gt; 605        3      2
#&gt; 606        3      2
#&gt; 607        2      2
#&gt; 608        1      1
#&gt; 609        3      2
#&gt; 610        2      2
#&gt; 611        2      4
#&gt; 612        2      4
#&gt; 613        2      4
#&gt; 614        2      4
#&gt; 615        2      4
#&gt; 616        2      4
#&gt; 617        2      3
#&gt; 618        2      3
#&gt; 619        3      3
#&gt; 620        1      3
#&gt; 621        2      3
#&gt; 622        2      1
#&gt; 623        2      3
#&gt; 624        2      3
#&gt; 625        3      4
#&gt; 626        2      3
#&gt; 627        2      4
#&gt; 628        3      4
#&gt; 629        3      2
#&gt; 630       NA      3
#&gt; 631       NA      3
#&gt; 632        1      4
#&gt; 633        1      2
#&gt; 634        3      3
#&gt; 635        3      4
#&gt; 636        2      3
#&gt; 637        2      3
#&gt; 638        1      3
#&gt; 639        2      2
#&gt; 640        2      3
#&gt; 641        2      3
#&gt; 642        2      3
#&gt; 643        2      3
#&gt; 644        3      2
#&gt; 645        2      2
#&gt; 646        2      3
#&gt; 647        2      2
#&gt; 648        3      4
#&gt; 649        2      2
#&gt; 650        2      2
#&gt; 651        2      2
#&gt; 652        2      4
#&gt; 653        2      4
#&gt; 654        2      4
#&gt; 655        2      1
#&gt; 656        2      4
#&gt; 657        3      3
#&gt; 658        2      2
#&gt; 659        1      3
#&gt; 660        2      3
#&gt; 661        2      2
#&gt; 662        2      2
#&gt; 663        3      2
#&gt; 664        2      3
#&gt; 665       NA      1
#&gt; 666        3      3
#&gt; 667        2      1
#&gt; 668        1      2
#&gt; 669        2      2
#&gt; 670        2      3
#&gt; 671        1      3
#&gt; 672        2      2
#&gt; 673        3      3
#&gt; 674        1      4
#&gt; 675        2      4
#&gt; 676        1      1
#&gt; 677        1      4
#&gt; 678        2      4
#&gt; 679        2      1
#&gt; 680        1      3
#&gt; 681        2      1
#&gt; 682        2      2
#&gt; 683        2      2
#&gt; 684        2      4
#&gt; 685        3      3
#&gt; 686        2      1
#&gt; 687        2      3
#&gt; 688        2      3
#&gt; 689        1      2
#&gt; 690        2      4
#&gt; 691        1      4
#&gt; 692        3      3
#&gt; 693        1      4
#&gt; 694        2      3
#&gt; 695        2      4
#&gt; 696        2      4
#&gt; 697        2      3
#&gt; 698        3      4
#&gt; 699        2      3
#&gt; 700        2      4
#&gt; 701        2      3
#&gt; 702        2      2
#&gt; 703        1      1
#&gt; 704        2      2
#&gt; 705       NA      2
#&gt; 706        2      4
#&gt; 707        1      2
#&gt; 708        1      2
#&gt; 709        1      3
#&gt; 710        2      1
#&gt; 711        1      2
#&gt; 712        3      4
#&gt; 713        2      3
#&gt; 714        2      4
#&gt; 715        2      4
#&gt; 716        2      4
#&gt; 717        2      4
#&gt; 718        1      2
#&gt; 719       NA      1
#&gt; 720       NA      4
#&gt; 721        2      2
#&gt; 722        2      2
#&gt; 723        1      3
#&gt; 724        2      4
#&gt; 725        2      3
#&gt; 726        2      2
#&gt; 727        2      4
#&gt; 728        2      2
#&gt; 729       NA      3
#&gt; 730        2      3
#&gt; 731        1      3
#&gt; 732        1      4
#&gt; 733        3      2
#&gt; 734        2      4
#&gt; 735        3      2
#&gt; 736        2      3
#&gt; 737       NA      2
#&gt; 738        1      3
#&gt; 739        3      2
#&gt; 740        2      1
#&gt; 741        2      4
#&gt; 742        2      3
#&gt; 743        2      3
#&gt; 744        2      3
#&gt; 745        1      4
#&gt; 746        1      2
#&gt; 747        2      2
#&gt; 748        2      2
#&gt; 749        3      3
#&gt; 750        2      3
#&gt; 751        1      4
#&gt; 752        2      4
#&gt; 753        3      4
#&gt; 754        3      4
#&gt; 755        1      4
#&gt; 756        2      1
#&gt; 757        2      2
#&gt; 758        2      4
#&gt; 759        2      4
#&gt; 760        1      2
#&gt; 761        2      2
#&gt; 762        2      3
#&gt; 763        2      2
#&gt; 764        3      2
#&gt; 765        2      2
#&gt; 766        2      2
#&gt; 767        1      3
#&gt; 768        2      3
#&gt; 769        3      1
#&gt; 770        2      2
#&gt; 771        2      1
#&gt; 772        3      1
#&gt; 773        2      2
#&gt; 774        1      3
#&gt; 775        1      2
#&gt; 776        2      1
#&gt; 777        1      3
#&gt; 778       NA      3
#&gt; 779        2      2
#&gt; 780        2      2
#&gt; 781        2      2
#&gt; 782        2      2
#&gt; 783       NA      3
#&gt; 784        3      3
#&gt; 785        2      3
#&gt; 786        2      3
#&gt; 787       NA      4
#&gt; 788        3      2
#&gt; 789        1      4
#&gt; 790        2      1
#&gt; 791        2      1
#&gt; 792        1      1
#&gt; 793        2      2
#&gt; 794        2      4
#&gt; 795        2      2
#&gt; 796        2      2
#&gt; 797        2      2
#&gt; 798        2      2
#&gt; 799        2      1
#&gt; 800        2      3
#&gt; 801        1      2
#&gt; 802        1      4
#&gt; 803        2      3
#&gt; 804        1      4
#&gt; 805        2      2
#&gt; 806        2      3
#&gt; 807        2      4
#&gt; 808        2      3
#&gt; 809        1      4
#&gt; 810        2      3
#&gt; 811        3      3
#&gt; 812        2      3
#&gt; 813        1      2
#&gt; 814       NA      3
#&gt; 815        1      2
#&gt; 816        2      2
#&gt; 817        1      3
#&gt; 818        1      1
#&gt; 819        2      1
#&gt; 820        2      3
#&gt; 821        2      1
#&gt; 822        2      2
#&gt; 823        2      2
#&gt; 824        2      3
#&gt; 825        2      2
#&gt; 826        2      2
#&gt; 827        2      2
#&gt; 828        3      3
#&gt; 829        3      2
#&gt; 830        2      4
#&gt; 831        3      1
#&gt; 832        2      3
#&gt; 833        2      1
#&gt; 834        2      3
#&gt; 835        2      1
#&gt; 836        2      2
#&gt; 837        2      1
#&gt; 838        2      2
#&gt; 839        2      2
#&gt; 840        3      3
#&gt; 841        2      4
#&gt; 842        3      2
#&gt; 843        2      2
#&gt; 844        2      2
#&gt; 845        2      1
#&gt; 846        2      2
#&gt; 847       NA      2
#&gt; 848        3      2
#&gt; 849        2      2
#&gt; 850        3      2
#&gt; 851        2      2
#&gt; 852        3      4
#&gt; 853        3      3
#&gt; 854        2      1
#&gt; 855        2      4
#&gt; 856        3      2
#&gt; 857        3      3
#&gt; 858        3      3
#&gt; 859        2      2
#&gt; 860        3      2
#&gt; 861        2      2
#&gt; 862        2      3
#&gt; 863        3      1
#&gt; 864        2      2
#&gt; 865        2      3
#&gt; 866        2      3
#&gt; 867        1      2
#&gt; 868        1      2
#&gt; 869        2      2
#&gt; 870        2      1
#&gt; 871        2      2
#&gt; 872        2      2
#&gt; 873        2      2
#&gt; 874        3      3
#&gt; 875        2      2
#&gt; 876        1      2
#&gt; 877        2      4
#&gt; 878        2      3
#&gt; 879        2      4
#&gt; 880        2      2
#&gt; 881        2      3
#&gt; 882        2      1
#&gt; 883        2      2
#&gt; 884        1      3
#&gt; 885        3      3
#&gt; 886        3      2
#&gt; 887        2      4
#&gt; 888        2      3
#&gt; 889        3      3
#&gt; 890        3      2
#&gt; 891        3      2
#&gt; 892        2      3
#&gt; 893        2      3
#&gt; 894        3      3
#&gt; 895        2      4
#&gt; 896        2      2
#&gt; 897        2      4
#&gt; 898        1      3
#&gt; 899        2      3
#&gt; 900        1      4
#&gt; 901        2      1
#&gt; 902        2      2
#&gt; 903       NA     NA
#&gt; 904       NA     NA
#&gt; 905       NA     NA
#&gt; 906       NA     NA
#&gt; 907       NA     NA
#&gt; 908       NA     NA</div><div class='input'>

<span class='co'># drop_labels() ----</span>

<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='kw'><a href='https://strengejacke.github.io/sjmisc'>sjmisc</a></span>)
<span class='kw'>rp</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/sjmisc/man/rec_pattern.html'>rec_pattern</a></span>(<span class='fl'>1</span>, <span class='fl'>100</span>)
<span class='kw'>rp</span>
</div><div class='output co'>#&gt; $pattern
#&gt; [1] "1:5=1;6:10=2;11:15=3;16:20=4;21:25=5;26:30=6;31:35=7;36:40=8;41:45=9;46:50=10;51:55=11;56:60=12;61:65=13;66:70=14;71:75=15;76:80=16;81:85=17;86:90=18;91:95=19;96:100=20;"
#&gt; 
#&gt; $labels
#&gt;        1        2        3        4        5        6        7        8 
#&gt;    "1-5"   "6-10"  "11-15"  "16-20"  "21-25"  "26-30"  "31-35"  "36-40" 
#&gt;        9       10       11       12       13       14       15       16 
#&gt;  "41-45"  "46-50"  "51-55"  "56-60"  "61-65"  "66-70"  "71-75"  "76-80" 
#&gt;       17       18       19       20 
#&gt;  "81-85"  "86-90"  "91-95" "96-100" 
#&gt; </div><div class='input'>
<span class='co'># sample data</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='kw'>efc</span>)
<span class='co'># recode carers age into groups of width 5</span>
<span class='kw'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/sjmisc/man/rec.html'>rec</a></span>(<span class='kw'>efc</span><span class='op'>$</span><span class='kw'>c160age</span>, rec = <span class='kw'>rp</span><span class='op'>$</span><span class='kw'>pattern</span>)
<span class='co'># add value labels to new vector</span>
<span class='kw'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='set_labels.html'>set_labels</a></span>(<span class='kw'>x</span>, labels = <span class='kw'>rp</span><span class='op'>$</span><span class='kw'>labels</span>)

<span class='co'># watch result. due to recode-pattern, we have age groups with</span>
<span class='co'># no observations (zero-counts)</span>
<span class='fu'><a href='https://rdrr.io/pkg/sjmisc/man/frq.html'>frq</a></span>(<span class='kw'>x</span>)
</div><div class='output co'>#&gt; 
#&gt; <span style='color: #BB0000;'>carer' age (x)</span><span style='color: #0000BB;'> &lt;numeric&gt;
#&gt; # total N=908  valid N=901  mean=11.07  sd=2.69
#&gt; 
#&gt; </span><span>Value |  Label |   N | Raw % | Valid % | Cum. %
#&gt; -----------------------------------------------
#&gt;     1 |    1-5 |   0 |  0.00 |    0.00 |   0.00
#&gt;     2 |   6-10 |   0 |  0.00 |    0.00 |   0.00
#&gt;     3 |  11-15 |   0 |  0.00 |    0.00 |   0.00
#&gt;     4 |  16-20 |   5 |  0.55 |    0.55 |   0.55
#&gt;     5 |  21-25 |  15 |  1.65 |    1.66 |   2.22
#&gt;     6 |  26-30 |  28 |  3.08 |    3.11 |   5.33
#&gt;     7 |  31-35 |  50 |  5.51 |    5.55 |  10.88
#&gt;     8 |  36-40 |  51 |  5.62 |    5.66 |  16.54
#&gt;     9 |  41-45 |  99 | 10.90 |   10.99 |  27.52
#&gt;    10 |  46-50 | 126 | 13.88 |   13.98 |  41.51
#&gt;    11 |  51-55 | 116 | 12.78 |   12.87 |  54.38
#&gt;    12 |  56-60 | 122 | 13.44 |   13.54 |  67.92
#&gt;    13 |  61-65 | 123 | 13.55 |   13.65 |  81.58
#&gt;    14 |  66-70 |  82 |  9.03 |    9.10 |  90.68
#&gt;    15 |  71-75 |  41 |  4.52 |    4.55 |  95.23
#&gt;    16 |  76-80 |  32 |  3.52 |    3.55 |  98.78
#&gt;    17 |  81-85 |   9 |  0.99 |    1.00 |  99.78
#&gt;    18 |  86-90 |   2 |  0.22 |    0.22 | 100.00
#&gt;    19 |  91-95 |   0 |  0.00 |    0.00 | 100.00
#&gt;    20 | 96-100 |   0 |  0.00 |    0.00 | 100.00
#&gt;  &lt;NA&gt; |   &lt;NA&gt; |   7 |  0.77 |    &lt;NA&gt; |   &lt;NA&gt;
#&gt; </div><div class='input'><span class='co'># now, let's drop zero's</span>
<span class='fu'><a href='https://rdrr.io/pkg/sjmisc/man/frq.html'>frq</a></span>(<span class='fu'>drop_labels</span>(<span class='kw'>x</span>))
</div><div class='output co'>#&gt; 
#&gt; </span><span style='color: #BB0000;'>carer' age (x)</span><span style='color: #0000BB;'> &lt;numeric&gt;
#&gt; # total N=908  valid N=901  mean=11.07  sd=2.69
#&gt; 
#&gt; </span><span>Value | Label |   N | Raw % | Valid % | Cum. %
#&gt; ----------------------------------------------
#&gt;     4 | 16-20 |   5 |  0.55 |    0.55 |   0.55
#&gt;     5 | 21-25 |  15 |  1.65 |    1.66 |   2.22
#&gt;     6 | 26-30 |  28 |  3.08 |    3.11 |   5.33
#&gt;     7 | 31-35 |  50 |  5.51 |    5.55 |  10.88
#&gt;     8 | 36-40 |  51 |  5.62 |    5.66 |  16.54
#&gt;     9 | 41-45 |  99 | 10.90 |   10.99 |  27.52
#&gt;    10 | 46-50 | 126 | 13.88 |   13.98 |  41.51
#&gt;    11 | 51-55 | 116 | 12.78 |   12.87 |  54.38
#&gt;    12 | 56-60 | 122 | 13.44 |   13.54 |  67.92
#&gt;    13 | 61-65 | 123 | 13.55 |   13.65 |  81.58
#&gt;    14 | 66-70 |  82 |  9.03 |    9.10 |  90.68
#&gt;    15 | 71-75 |  41 |  4.52 |    4.55 |  95.23
#&gt;    16 | 76-80 |  32 |  3.52 |    3.55 |  98.78
#&gt;    17 | 81-85 |   9 |  0.99 |    1.00 |  99.78
#&gt;    18 | 86-90 |   2 |  0.22 |    0.22 | 100.00
#&gt;  &lt;NA&gt; |  &lt;NA&gt; |   7 |  0.77 |    &lt;NA&gt; |   &lt;NA&gt;
#&gt; </div><div class='input'>
<span class='co'># drop labels, also drop NA value labels, then also zap tagged NA</span>
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='kw'><a href='http://haven.tidyverse.org'>haven</a></span>)
<span class='kw'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://haven.tidyverse.org/reference/labelled.html'>labelled</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span>, <span class='fu'><a href='https://haven.tidyverse.org/reference/tagged_na.html'>tagged_na</a></span>(<span class='st'>"z"</span>), <span class='fl'>4</span><span class='op'>:</span><span class='fl'>1</span>),
              <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"Agreement"</span> = <span class='fl'>1</span>, <span class='st'>"Disagreement"</span> = <span class='fl'>4</span>, <span class='st'>"Unused"</span> = <span class='fl'>5</span>,
                <span class='st'>"Not home"</span> = <span class='fu'><a href='https://haven.tidyverse.org/reference/tagged_na.html'>tagged_na</a></span>(<span class='st'>"z"</span>)))
<span class='kw'>x</span>
</div><div class='output co'>#&gt; &lt;labelled&lt;double&gt;[8]&gt;
#&gt; [1]     1     2     3 NA(z)     4     3     2     1
#&gt; 
#&gt; Labels:
#&gt;  value        label
#&gt;      1    Agreement
#&gt;      4 Disagreement
#&gt;      5       Unused
#&gt;  NA(z)     Not home</div><div class='input'><span class='fu'>drop_labels</span>(<span class='kw'>x</span>, drop.na = <span class='fl'>FALSE</span>)
</div><div class='output co'>#&gt; &lt;labelled&lt;double&gt;[8]&gt;
#&gt; [1]     1     2     3 NA(z)     4     3     2     1
#&gt; 
#&gt; Labels:
#&gt;  value        label
#&gt;      1    Agreement
#&gt;      4 Disagreement
#&gt;  NA(z)     Not home</div><div class='input'><span class='fu'>drop_labels</span>(<span class='kw'>x</span>)
</div><div class='output co'>#&gt; &lt;labelled&lt;double&gt;[8]&gt;
#&gt; [1]     1     2     3 NA(z)     4     3     2     1
#&gt; 
#&gt; Labels:
#&gt;  value        label
#&gt;      1    Agreement
#&gt;      4 Disagreement</div><div class='input'><span class='fu'><a href='zap_na_tags.html'>zap_na_tags</a></span>(<span class='fu'>drop_labels</span>(<span class='kw'>x</span>))
</div><div class='output co'>#&gt; &lt;labelled&lt;double&gt;[8]&gt;
#&gt; [1]  1  2  3 NA  4  3  2  1
#&gt; 
#&gt; Labels:
#&gt;  value        label
#&gt;      1    Agreement
#&gt;      4 Disagreement</div><div class='input'>

<span class='co'># fill_labels() ----</span>

<span class='co'># create labelled integer, with tagged missings</span>
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='kw'><a href='http://haven.tidyverse.org'>haven</a></span>)
<span class='kw'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://haven.tidyverse.org/reference/labelled.html'>labelled</a></span>(
  <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span>, <span class='fu'><a href='https://haven.tidyverse.org/reference/tagged_na.html'>tagged_na</a></span>(<span class='st'>"a"</span>, <span class='st'>"c"</span>, <span class='st'>"z"</span>), <span class='fl'>4</span><span class='op'>:</span><span class='fl'>1</span>),
  <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"Agreement"</span> = <span class='fl'>1</span>, <span class='st'>"Disagreement"</span> = <span class='fl'>4</span>, <span class='st'>"First"</span> = <span class='fu'><a href='https://haven.tidyverse.org/reference/tagged_na.html'>tagged_na</a></span>(<span class='st'>"c"</span>),
    <span class='st'>"Refused"</span> = <span class='fu'><a href='https://haven.tidyverse.org/reference/tagged_na.html'>tagged_na</a></span>(<span class='st'>"a"</span>), <span class='st'>"Not home"</span> = <span class='fu'><a href='https://haven.tidyverse.org/reference/tagged_na.html'>tagged_na</a></span>(<span class='st'>"z"</span>))
  )
<span class='co'># get current values and labels</span>
<span class='kw'>x</span>
</div><div class='output co'>#&gt; &lt;labelled&lt;double&gt;[10]&gt;
#&gt;  [1]     1     2     3 NA(a) NA(c) NA(z)     4     3     2     1
#&gt; 
#&gt; Labels:
#&gt;  value        label
#&gt;      1    Agreement
#&gt;      4 Disagreement
#&gt;  NA(c)        First
#&gt;  NA(a)      Refused
#&gt;  NA(z)     Not home</div><div class='input'><span class='fu'><a href='get_labels.html'>get_labels</a></span>(<span class='kw'>x</span>)
</div><div class='output co'>#&gt; [1] "Agreement"    "Disagreement"</div><div class='input'>
<span class='fu'>fill_labels</span>(<span class='kw'>x</span>)
</div><div class='output co'>#&gt; &lt;labelled&lt;double&gt;[10]&gt;
#&gt;  [1]     1     2     3 NA(a) NA(c) NA(z)     4     3     2     1
#&gt; 
#&gt; Labels:
#&gt;  value        label
#&gt;      1    Agreement
#&gt;      2            2
#&gt;      3            3
#&gt;      4 Disagreement
#&gt;  NA(c)        First
#&gt;  NA(a)      Refused
#&gt;  NA(z)     Not home</div><div class='input'><span class='fu'><a href='get_labels.html'>get_labels</a></span>(<span class='fu'>fill_labels</span>(<span class='kw'>x</span>))
</div><div class='output co'>#&gt; [1] "Agreement"    "2"            "3"            "Disagreement"</div><div class='input'><span class='co'># same as</span>
<span class='fu'><a href='get_labels.html'>get_labels</a></span>(<span class='kw'>x</span>, non.labelled = <span class='fl'>TRUE</span>)
</div><div class='output co'>#&gt; [1] "Agreement"    "2"            "3"            "Disagreement"</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://github.com/strengejacke'>Daniel Lüdecke</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


